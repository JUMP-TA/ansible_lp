# Ansible Intermediate Demo: Local Docker Web Service

This demo showcases how to use Ansible to automate deployment and management of a containerized web service (nginx) on your local machine with Docker and Docker Compose.

## Prerequisites

* macOS or Linux
* Docker and Docker Compose installed and running
* Ansible installed (`brew install ansible` or `pip install ansible`)
* User must have permission to run Docker commands

## Directory Structure

```
demo_2/
├── ansible.cfg
├── inventory
├── playbooks/
│   └── site.yml
├── roles/
│   └── app_deploy/
│       ├── tasks/
│       │   └── main.yml
│       └── templates/
│           └── docker-compose.yml.j2
└── docker-compose.yml  # generated by the playbook
```

## Usage

1. Clone or copy this directory structure to your machine.
2. Adjust file paths in `main.yml` and playbook if needed for your user/home directory.
3. Start Docker Desktop or ensure the Docker daemon is running.
4. Run the playbook:
   ansible-playbook playbooks/site.yml --ask-become-pass
5. Confirm container is running:
   docker ps
6. Visit [http://localhost:8080](http://localhost:8080) in your browser to see the NGINX default page.

## Key Ansible Concepts Demonstrated

* Role-based structure
* Use of templates (`docker-compose.yml.j2`)
* Task separation and privilege control (`become: yes` only where needed)
* Idempotent infrastructure automation

## Cleanup

To stop and remove the container:
cd \<directory-with-docker-compose.yml>
docker compose down
